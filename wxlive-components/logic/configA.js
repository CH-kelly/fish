function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e){(0,g.MOCKServerKidnap)(wx,"operateWXData",e)}function t(e){(0,s.MOCKServerGetConfigs)({configsOriginal:e.configsOriginal,requestTargetOriginal:e.requestTargetOriginal,requestPlayTargetOriginal:e.requestPlayTargetOriginal,requestRecordTargetOriginal:e.requestRecordTargetOriginal,requestRedirectTargetOriginal:e.requestRedirectTargetOriginal,actionType:e.configsType,configsRtx:e.configsRtx,configsFrom:e.configsFrom,configsGetStraightOut:e.configsGetStraightOut,configsTarget:e.configsTarget,originXMLHttpRequest:window.XMLHttpRequest}),(0,s.XMLHttpRequestNew)(),(0,s.MOCKServerStraightOut)()}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}}(),n=require("./lib/libs.js"),s=require("./lib/XMLHttpRequestOrigin.js"),g=require("./lib/WXRequestOrigin.js"),o=void 0,a=function(){function i(){e(this,i),console.log("MOCKServerNormalizedConfigs class"),this._key="mock server",this._targetOriginal="https://mptest.weixin.qq.com/mockserver/mockservercgi-bin/",this._targetOriginalMobile="https://oa.m.tencent.com/an:"+(o.key||"mockServerGate")+"/mockserver/mockservercgi-bin/",this.configsOriginal=o.original,this.configsGetStraightOut=o.getStraightOut,this.key="",this.rtx="",this.configsTarget="",this.configsType="",this.configsRtx="",this.configsFrom="",this.configsKey="",this.configsClientType="",this.configsIsPc=!0,this.gateKey="",this.requestTargetOriginal="",this.requestRedirectTargetOriginal="",this.requestRecordTargetOriginal="",this.requestPlayTargetOriginal="",this._initCheckConfigs(),this._initClientType(),this.gateKey=o.key||"mockServerGate",this._initTargetOriginal()}return r(i,[{key:"_initCheckConfigs",value:function(){if(!o.target||"string"!=typeof o.target)throw this._key+"配置错误，targe 必填，且为字符串，对应"+this._key+"中的项目id";this.configsTarget=o.target,this.configsType=(0,n.MOCKServerGetUrlQueryValue)("mockServerActionType")||o.type,this.configsRtx=(0,n.MOCKServerGetUrlQueryValue)("rtx")||o.rtx,this.configsFrom=o.from||"external"}},{key:"_initClientType",value:function(){try{"undefined"!=typeof wx?("devtools"===wx.getSystemInfoSync().platform?this.configsClientType="devtools":this.configsClientType="miniprogram",o.key&&"string"==typeof o.target&&(this.configsKey=o.key)):this.configsClientType="webpage"}catch(e){}}},{key:"_initTargetOriginal",value:function(){var e=this;this.requestTargetOriginal=this._targetOriginal,this.requestRedirectTargetOriginal=this._targetOriginal+"offerTestCase/"+this.configsTarget+"/",this.requestRecordTargetOriginal=this._targetOriginal+"external/record",this.requestPlayTargetOriginal=this._targetOriginal+"offerTestCase/"+this.configsTarget+"/","miniprogram"!==this.configsClientType&&"plugin"!==this.configsClientType||(console.log("MOCKServerWxLogin"),(0,g.MOCKServerWxLogin)().then(function(i){(0,g.MOCKServerWxGetRtx)(i,e.gateKey).then(function(e){console.log("MOCKServerWxGetRtx"),console.log(e)})}))}},{key:"all",get:function(){return{configsOriginal:this.configsOriginal,configsTarget:this.configsTarget,configsType:this.configsType,configsRtx:this.configsRtx,configsFrom:this.configsFrom,configsKey:this.configsKey,configsGetStraightOut:this.configsGetStraightOut,configsClientType:this.configsClientType,configsIsPc:this.configsIsPc,requestTargetOriginal:this.requestTargetOriginal,requestRedirectTargetOriginal:this.requestRedirectTargetOriginal,requestRecordTargetOriginal:this.requestRecordTargetOriginal,requestPlayTargetOriginal:this.requestPlayTargetOriginal}}}]),i}(),c=void 0;exports.default={MOCKServerInit:function(e){o=e;var r=new a;switch(c=r.all,console.log("MOCKServerFetchedConfigs.configsClientType"),console.log(c.configsClientType),c.configsClientType){case"devtools":case"miniprogram":case"plugin":"record"!==c.configsType&&"play"!==c.configsType||i(c);break;case"webpage":"record"===c.configsType&&t(c)}},test:function(){console.log("test")}};